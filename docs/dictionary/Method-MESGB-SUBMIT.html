<head>
    <title>
        HE&Lambda;P Untitled Documentation
        :
        METHOD
        submit
    </title>
    <meta http-equiv="Content-Type"
          content="text/html"
          charset="UTF-8" />
    <link rel="stylesheet" href="../helambdap.css" />
</head>
<body>
    <h1>
        <i>

            Method
        </i>
        <strong>
            submit
        </strong>
    </h1>
    <h2>
        Package:
    </h2>
    <p>
        CL-GSERVER.MESSAGEB
    </p>
    <h2>
        Syntax:
    </h2>
    <div>
        <p>
            <pre>
  <strong style="color: red">submit</strong> <i>SELF</i> <i>MESSAGE</i> <i>WITHREPLY-P</i> <i>TIME-OUT</i> <i>HANDLER-FUN</i> &rarr; <i>result</i></pre>
        </p>
    </div>
    <h3>
        Arguments and Values:
    </h3>
    <ul style="list-style-type: none">
        <li style="list-style-type: none">
            <i>
                <code>
                    SELF
                </code>
            </i>
             :
            a
            T
        </li>
        <li style="list-style-type: none">
            <i>
                <code>
                    MESSAGE
                </code>
            </i>
             :
            a
            T
        </li>
        <li style="list-style-type: none">
            <i>
                <code>
                    WITHREPLY-P
                </code>
            </i>
             :
            a
            T
        </li>
        <li style="list-style-type: none">
            <i>
                <code>
                    TIME-OUT
                </code>
            </i>
             :
            a
            T
        </li>
        <li style="list-style-type: none">
            <i>
                <code>
                    HANDLER-FUN
                </code>
            </i>
             :
            a
            T
        </li>
        <li style="list-style-type: none">
            <i>
                <code>
                    result
                </code>
            </i>
             : a T.
        </li>
    </ul>
    <h2>
        Description:
    </h2>
    <p>
        Submitting a message on a multi-threaded `dispatcher' is different as submitting on a single threaded message-box.
On a single threaded message-box the order of message processing is guaranteed even when submitting from multiple threads.
On the `dispatcher' this is not the case. The order cannot be guaranteed when messages are processed by different 
`dispatcher' threads. However, we still guarantee a 'single-threadedness' regarding the state of the actor.
This is archieved here by protecting the `handler-fun' executation by a lock.
    </p>
    <p>
        The `time-out' with the 'dispatcher mailbox' assumes that the message received the dispatcher queue
and the handler in a reasonable amount of time, so that the effective time-out applies on the actual
handling of the message on the dispatcher queue thread.
    </p>
    <p>
        !!! attention: the `ask' uses no reply (here a `dispatch-async').
    </p>
</body>