<head>
    <title>
        HE&Lambda;P Untitled Documentation
        :
        Generic Function
        make-actor
    </title>
    <meta http-equiv="Content-Type"
          content="text/html"
          charset="UTF-8" />
    <link rel="stylesheet" href="../helambdap.css" />
</head>
<body>
    <h1>
        <i>

            Generic Function
        </i>
        <strong>
            make-actor
        </strong>
    </h1>
    <h2>
        Package:
    </h2>
    <p>
        CL-GSERVER.ACTOR
    </p>
    <h2>
        Syntax:
    </h2>
    <div>
        <p>
            <pre>
  <strong style="color: red">make-actor</strong> <i>RECEIVE</i> <span style="color: blue">&KEY</span> <i>&KEY</i> <i>NAME</i> <i>STATE</i> &rarr; <i>result</i></pre>
        </p>
    </div>
    <h3>
        Arguments and Values:
    </h3>
    <ul style="list-style-type: none">
        <li style="list-style-type: none">
            <i>
                <code>
                    RECEIVE
                </code>
            </i>
             :
            a
            T
        </li>
        <li style="list-style-type: none">
            <i>
                <code>
                    &KEY
                </code>
            </i>
             :
            a
            T
        </li>
        <li style="list-style-type: none">
            <i>
                <code>
                    NAME
                </code>
            </i>
             :
            a
            T
        </li>
        <li style="list-style-type: none">
            <i>
                <code>
                    STATE
                </code>
            </i>
             :
            a
            T
        </li>
        <li style="list-style-type: none">
            <i>
                <code>
                    result
                </code>
            </i>
             : a T.
        </li>
    </ul>
    <h2>
        Description:
    </h2>
    <p>
        Default constructor of an `actor'.
The `receive' parameter is a function that should take 3 parameters.
That is 1. the actor `instance' itself, 2. the `message' and 3. the `current-state' of the actor.
    </p>
    <p>
        The `receive' can then decide how to handle the message.
In any case it has to return a `cons' of message to be sent back to caller (`car'), if applicable.
And the new state of the actor.
I.e.: `(cons &lt;my-response&gt; &lt;my-new-state&gt;)'
    </p>
    <p>
        If the operation was an `ask-s' or `ask' then the `car' part of the `cons' will be sent back to the caller.
In case of a `tell' operation there will be no response and the `car' of the `cons' is ignored,
if there is no sender. If there is a sender defined, then the `car' of the `cons' is sent to the sender.
It is possible to specify `:no-reply' in this case which has the effect that this result is _not_ sent to the sender even if one exists. This is for the case that the user wants to handle the state and the any notifications to a sender himself. It is useful when the `receive' message handler is executed in a special thread-pool, because long running operations within `receive' will block the message handling of the actor.
    </p>
    <p>
        The `:no-reply' result works for `ask' and `tell', because also `ask' is based on `tell'.
`ask-s' is really only useful if a synchronous result is required and should be avoided otherwise.
    </p>
</body>